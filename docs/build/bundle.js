var app=function(){"use strict";function t(){}const e=t=>t;function n(t){return t()}function o(){return Object.create(null)}function s(t){t.forEach(n)}function r(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let i;function c(t,e){return i||(i=document.createElement("a")),i.href=e,t===i.href}function a(e,n,o){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(n,o))}function u(t,e,n,o){return t[1]&&o?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](o(e))):n.ctx}function d(t){return null==t?"":t}const f="undefined"!=typeof window;let p=f?()=>window.performance.now():()=>Date.now(),m=f?t=>requestAnimationFrame(t):t;const h=new Set;function g(t){h.forEach((e=>{e.c(t)||(h.delete(e),e.f())})),0!==h.size&&m(g)}function v(t,e){t.appendChild(e)}function $(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function y(t){const e=k("style");return function(t,e){v(t.head||t,e)}($(t),e),e}function b(t,e,n){t.insertBefore(e,n||null)}function _(t){t.parentNode.removeChild(t)}function k(t){return document.createElement(t)}function x(t){return document.createTextNode(t)}function w(){return x(" ")}function C(){return x("")}function E(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function L(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function S(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function N(t,e){t.value=null==e?"":e}const A=new Set;let T,R=0;function M(t,e,n,o,s,r,l,i=0){const c=16.666/o;let a="{\n";for(let t=0;t<=1;t+=c){const o=e+(n-e)*r(t);a+=100*t+`%{${l(o,1-o)}}\n`}const u=a+`100% {${l(n,1-n)}}\n}`,d=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${i}`,f=$(t);A.add(f);const p=f.__svelte_stylesheet||(f.__svelte_stylesheet=y(t).sheet),m=f.__svelte_rules||(f.__svelte_rules={});m[d]||(m[d]=!0,p.insertRule(`@keyframes ${d} ${u}`,p.cssRules.length));const h=t.style.animation||"";return t.style.animation=`${h?`${h}, `:""}${d} ${o}ms linear ${s}ms 1 both`,R+=1,d}function P(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),s=n.length-o.length;s&&(t.style.animation=o.join(", "),R-=s,R||m((()=>{R||(A.forEach((t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}})),A.clear())})))}function D(t){T=t}function O(){if(!T)throw new Error("Function called outside component initialization");return T}const j=[],z=[],F=[],I=[],B=Promise.resolve();let G=!1;function W(){G||(G=!0,B.then(K))}function H(t){F.push(t)}const U=new Set;let q,J=0;function K(){const t=T;do{for(;J<j.length;){const t=j[J];J++,D(t),Q(t.$$)}for(D(null),j.length=0,J=0;z.length;)z.pop()();for(let t=0;t<F.length;t+=1){const e=F[t];U.has(e)||(U.add(e),e())}F.length=0}while(j.length);for(;I.length;)I.pop()();G=!1,U.clear(),D(t)}function Q(t){if(null!==t.fragment){t.update(),s(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(H)}}function V(t,e,n){t.dispatchEvent(function(t,e,n=!1){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,n,!1,e),o}(`${e?"intro":"outro"}${n}`))}const X=new Set;let Y;function Z(){Y={r:0,c:[],p:Y}}function tt(){Y.r||s(Y.c),Y=Y.p}function et(t,e){t&&t.i&&(X.delete(t),t.i(e))}function nt(t,e,n,o){if(t&&t.o){if(X.has(t))return;X.add(t),Y.c.push((()=>{X.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}const ot={duration:0};function st(n,o,l,i){let c=o(n,l),a=i?0:1,u=null,d=null,f=null;function v(){f&&P(n,f)}function $(t,e){const n=t.b-a;return e*=Math.abs(n),{a:a,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function y(o){const{delay:r=0,duration:l=300,easing:i=e,tick:y=t,css:b}=c||ot,_={start:p()+r,b:o};o||(_.group=Y,Y.r+=1),u||d?d=_:(b&&(v(),f=M(n,a,o,l,r,i,b)),o&&y(0,1),u=$(_,l),H((()=>V(n,o,"start"))),function(t){let e;0===h.size&&m(g),new Promise((n=>{h.add(e={c:t,f:n})}))}((t=>{if(d&&t>d.start&&(u=$(d,l),d=null,V(n,u.b,"start"),b&&(v(),f=M(n,a,u.b,u.duration,0,i,c.css))),u)if(t>=u.end)y(a=u.b,1-a),V(n,u.b,"end"),d||(u.b?v():--u.group.r||s(u.group.c)),u=null;else if(t>=u.start){const e=t-u.start;a=u.a+u.d*i(e/u.duration),y(a,1-a)}return!(!u&&!d)})))}return{run(t){r(c)?(q||(q=Promise.resolve(),q.then((()=>{q=null}))),q).then((()=>{c=c(),y(t)})):y(t)},end(){v(),u=d=null}}}function rt(t){t&&t.c()}function lt(t,e,o,l){const{fragment:i,on_mount:c,on_destroy:a,after_update:u}=t.$$;i&&i.m(e,o),l||H((()=>{const e=c.map(n).filter(r);a?a.push(...e):s(e),t.$$.on_mount=[]})),u.forEach(H)}function it(t,e){const n=t.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ct(e,n,r,l,i,c,a,u=[-1]){const d=T;D(e);const f=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:i,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(d?d.$$.context:[])),callbacks:o(),dirty:u,skip_bound:!1,root:n.target||d.$$.root};a&&a(f.root);let p=!1;if(f.ctx=r?r(e,n.props||{},((t,n,...o)=>{const s=o.length?o[0]:n;return f.ctx&&i(f.ctx[t],f.ctx[t]=s)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](s),p&&function(t,e){-1===t.$$.dirty[0]&&(j.push(t),W(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),n})):[],f.update(),p=!0,s(f.before_update),f.fragment=!!l&&l(f.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);f.fragment&&f.fragment.l(t),t.forEach(_)}else f.fragment&&f.fragment.c();n.intro&&et(e.$$.fragment),lt(e,n.target,n.anchor,n.customElement),K()}D(d)}class at{$destroy(){it(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const ut=[];function dt(e,n=t){let o;const s=new Set;function r(t){if(l(e,t)&&(e=t,o)){const t=!ut.length;for(const t of s)t[1](),ut.push(t,e);if(t){for(let t=0;t<ut.length;t+=2)ut[t][0](ut[t+1]);ut.length=0}}}return{set:r,update:function(t){r(t(e))},subscribe:function(l,i=t){const c=[l,i];return s.add(c),1===s.size&&(o=n(r)||t),l(e),()=>{s.delete(c),0===s.size&&(o(),o=null)}}}}let ft=localStorage.getItem("apods");ft=null===ft?[]:JSON.parse(ft);const pt=dt(ft);pt.subscribe((t=>{localStorage.setItem("apods",JSON.stringify(t))}));const mt=dt(),ht="https://apod.nathaniel-fernandes.workers.dev/";function gt(t){const e=e=>{!t||t.contains(e.target)||e.defaultPrevented||t.dispatchEvent(new CustomEvent("click_outside",t))};return document.addEventListener("click",e,!0),{destroy(){document.removeEventListener("click",e,!0)}}}function vt(t){const e=t-1;return e*e*e+1}function $t(t,{delay:e=0,duration:n=400,easing:o=vt,x:s=0,y:r=0,opacity:l=0}={}){const i=getComputedStyle(t),c=+i.opacity,a="none"===i.transform?"":i.transform,u=c*(1-l);return{delay:e,duration:n,easing:o,css:(t,e)=>`\n\t\t\ttransform: ${a} translate(${(1-t)*s}px, ${(1-t)*r}px);\n\t\t\topacity: ${c-u*e}`}}function yt(t){let e,n,o,s,r,l=t[0].copyright+"";return{c(){e=k("span"),n=k("i"),o=w(),s=x(l),r=k("br"),L(n,"class","far fa-copyright svelte-m69m8o"),L(r,"class","svelte-m69m8o"),L(e,"class","cp svelte-m69m8o")},m(t,l){b(t,e,l),v(e,n),v(e,o),v(e,s),v(e,r)},p(t,e){1&e&&l!==(l=t[0].copyright+"")&&S(s,l)},d(t){t&&_(e)}}}function bt(t){let e,n,o,r,l,i,c,a,u,f,p,m,h,g,$,y,C,N,A,T,R,M,P,D,O=t[0].title+"",j=(t[0].explanation.length>0?t[0].explanation:".")+"",z=t[0].date.toLocaleDateString("en-US",t[3])+"",F=t[0].explanation+"",I=t[0].copyright&&yt(t);return{c(){e=k("div"),n=k("i"),r=w(),l=k("i"),i=w(),c=k("div"),a=k("h2"),u=x(O),f=w(),p=k("p"),m=x(j),h=w(),g=k("span"),I&&I.c(),$=w(),y=x(z),C=w(),N=k("p"),A=x(F),L(n,"class",o=d(`fa${t[0].liked?"s":"r"} fa-heart`)+" svelte-m69m8o"),L(l,"class","fas fa-expand exp svelte-m69m8o"),L(a,"class","svelte-m69m8o"),L(p,"class","desc svelte-m69m8o"),L(c,"class","info svelte-m69m8o"),L(g,"class","date svelte-m69m8o"),L(N,"class","placeholder svelte-m69m8o"),L(e,"class","card svelte-m69m8o"),L(e,"style",T=`background-image: url(${t[0].url})`)},m(o,s){b(o,e,s),v(e,n),v(e,r),v(e,l),v(e,i),v(e,c),v(c,a),v(a,u),v(c,f),v(c,p),v(p,m),v(e,h),v(e,g),I&&I.m(g,null),v(g,$),v(g,y),v(e,C),v(e,N),v(N,A),M=!0,P||(D=[E(n,"click",t[1]),E(l,"click",t[2])],P=!0)},p(t,[s]){(!M||1&s&&o!==(o=d(`fa${t[0].liked?"s":"r"} fa-heart`)+" svelte-m69m8o"))&&L(n,"class",o),(!M||1&s)&&O!==(O=t[0].title+"")&&S(u,O),(!M||1&s)&&j!==(j=(t[0].explanation.length>0?t[0].explanation:".")+"")&&S(m,j),t[0].copyright?I?I.p(t,s):(I=yt(t),I.c(),I.m(g,$)):I&&(I.d(1),I=null),(!M||1&s)&&z!==(z=t[0].date.toLocaleDateString("en-US",t[3])+"")&&S(y,z),(!M||1&s)&&F!==(F=t[0].explanation+"")&&S(A,F),(!M||1&s&&T!==(T=`background-image: url(${t[0].url})`))&&L(e,"style",T)},i(t){M||(H((()=>{R||(R=st(e,$t,{},!0)),R.run(1)})),M=!0)},o(t){R||(R=st(e,$t,{},!1)),R.run(0),M=!1},d(t){t&&_(e),I&&I.d(),t&&R&&R.end(),P=!1,s(D)}}}function _t(t,e,n){let o;a(t,pt,(t=>n(5,o=t)));let{apod:s,i:r}=e;s.explanation=s.explanation.replace(/digg_url = 'http:\/\/.+\/apod\/.+\.html'; digg_skin = '.+';/g,"");return t.$$set=t=>{"apod"in t&&n(0,s=t.apod),"i"in t&&n(4,r=t.i)},[s,function(){var t,e;t=pt,o[r].liked=!o[r].liked,e=o,t.set(e),pt.set(o)},function(){mt.set(s)},{year:"numeric",month:"long",day:"numeric"},r]}class kt extends at{constructor(t){super(),ct(this,t,_t,bt,l,{apod:0,i:4})}}function xt(t){let e,n,o,s;const r=t[7].default,l=function(t,e,n,o){if(t){const s=u(t,e,n,o);return t[0](s)}}(r,t,t[6],null);return{c(){e=k("div"),l&&l.c(),L(e,"class",n="__grid--masonry "+(t[0]?"__stretch-first":"")),L(e,"style",o=`--grid-gap: ${t[1]}; --col-width: ${t[2]};`)},m(n,o){b(n,e,o),l&&l.m(e,null),t[8](e),s=!0},p(t,[i]){l&&l.p&&(!s||64&i)&&function(t,e,n,o,s,r){if(s){const l=u(e,n,o,r);t.p(l,s)}}(l,r,t,t[6],s?function(t,e,n,o){if(t[2]&&o){const s=t[2](o(n));if(void 0===e.dirty)return s;if("object"==typeof s){const t=[],n=Math.max(e.dirty.length,s.length);for(let o=0;o<n;o+=1)t[o]=e.dirty[o]|s[o];return t}return e.dirty|s}return e.dirty}(r,t[6],i,null):function(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}(t[6]),null),(!s||1&i&&n!==(n="__grid--masonry "+(t[0]?"__stretch-first":"")))&&L(e,"class",n),(!s||6&i&&o!==(o=`--grid-gap: ${t[1]}; --col-width: ${t[2]};`))&&L(e,"style",o)},i(t){s||(et(l,t),s=!0)},o(t){nt(l,t),s=!1},d(n){n&&_(e),l&&l.d(n),t[8](null)}}}function wt(t,e,n){let o,{$$slots:s={},$$scope:r}=e,{stretchFirst:l=!1,gridGap:i="0.5em",colWidth:c="minmax(Min(20em, 100%), 1fr)",items:a=[]}=e,u=[];const d=async()=>{u.forEach((async t=>{let e=getComputedStyle(t._el).gridTemplateColumns.split(" ").length;t.items.forEach((e=>{let n=e.getBoundingClientRect().height;n!==+e.dataset.h&&(e.dataset.h=n,t.mod++)})),(t.ncol!==e||t.mod)&&(t.ncol=e,t.items.forEach((t=>t.style.removeProperty("margin-top"))),t.ncol>1&&t.items.slice(e).forEach(((e,n)=>{let o=t.items[n].getBoundingClientRect().bottom,s=e.getBoundingClientRect().top;e.style.marginTop=o+t.gap-s+"px"})),t.mod=0)}))},f=async t=>{await(W(),B),t.length&&"masonry"!==getComputedStyle(t[0]).gridTemplateRows&&(u=t.map((t=>({_el:t,gap:parseFloat(getComputedStyle(t).rowGap),items:[...t.childNodes].filter((t=>1===t.nodeType&&-1!=+getComputedStyle(t).gridColumnEnd)),ncol:0,mod:0}))),d())};let p;var m;return m=()=>{p=window,p.addEventListener("resize",d,!1)},O().$$.on_mount.push(m),function(t){O().$$.on_destroy.push(t)}((()=>{p&&p.removeEventListener("resize",d,!1)})),t.$$set=t=>{"stretchFirst"in t&&n(0,l=t.stretchFirst),"gridGap"in t&&n(1,i=t.gridGap),"colWidth"in t&&n(2,c=t.colWidth),"items"in t&&n(4,a=t.items),"$$scope"in t&&n(6,r=t.$$scope)},t.$$.update=()=>{24&t.$$.dirty&&a&&(n(3,o),n(4,a)),8&t.$$.dirty&&o&&f([o])},[l,i,c,o,a,d,r,s,function(t){z[t?"unshift":"push"]((()=>{o=t,n(3,o),n(4,a)}))}]}class Ct extends at{constructor(t){super(),ct(this,t,wt,xt,l,{stretchFirst:0,gridGap:1,colWidth:2,items:4,refreshLayout:5})}get refreshLayout(){return this.$$.ctx[5]}}function Et(t,e,n){const o=t.slice();return o[16]=e[n],o[18]=n,o}function Lt(e){let n,o,l,i,a,u,d,f,p,m,h,g,$=e[4].title+"";return{c(){n=k("div"),o=k("img"),u=w(),d=k("h3"),f=x($),p=w(),m=k("p"),m.textContent="click away to exit view",L(o,"class","preview svelte-1edv9iu"),L(o,"alt",l=e[4].title),c(o.src,i=e[4].hdurl||e[4].url)||L(o,"src",i),L(m,"class","svelte-1edv9iu"),L(n,"class","modal svelte-1edv9iu")},m(s,l){var i;b(s,n,l),v(n,o),v(n,u),v(n,d),v(d,f),v(n,p),v(n,m),h||(g=[(i=a=gt.call(null,o),i&&r(i.destroy)?i.destroy:t),E(o,"click_outside",e[12])],h=!0)},p(t,e){16&e&&l!==(l=t[4].title)&&L(o,"alt",l),16&e&&!c(o.src,i=t[4].hdurl||t[4].url)&&L(o,"src",i),16&e&&$!==($=t[4].title+"")&&S(f,$)},d(t){t&&_(n),h=!1,s(g)}}}function St(e){let n;return{c(){n=k("div"),n.innerHTML='<h2 class="svelte-1edv9iu">Deep space scan failed :(</h2>'},m(t,e){b(t,n,e)},p:t,i:t,o:t,d(t){t&&_(n)}}}function Nt(t){let e,n,o,s;const r=[Tt,At],l=[];function i(t,e){return t[3].length>0?0:1}return e=i(t),n=l[e]=r[e](t),{c(){n.c(),o=C()},m(t,n){l[e].m(t,n),b(t,o,n),s=!0},p(t,s){let c=e;e=i(t),e===c?l[e].p(t,s):(Z(),nt(l[c],1,1,(()=>{l[c]=null})),tt(),n=l[e],n?n.p(t,s):(n=l[e]=r[e](t),n.c()),et(n,1),n.m(o.parentNode,o))},i(t){s||(et(n),s=!0)},o(t){nt(n),s=!1},d(t){l[e].d(t),t&&_(o)}}}function At(e){let n;return{c(){n=k("div"),n.textContent="No Results :(",L(n,"class","loading svelte-1edv9iu")},m(t,e){b(t,n,e)},p:t,i:t,o:t,d(t){t&&_(n)}}}function Tt(t){let e,n,o,s;function r(t,e){return t[2]?Dt:Pt}e=new Ct({props:{gridGap:"1rem",colWidth:"minmax(Min(25rem, 100%), 1fr)",items:t[3],$$slots:{default:[Mt]},$$scope:{ctx:t}}});let l=r(t),i=l(t);return{c(){rt(e.$$.fragment),n=w(),i.c(),o=C()},m(t,r){lt(e,t,r),b(t,n,r),i.m(t,r),b(t,o,r),s=!0},p(t,n){const s={};8&n&&(s.items=t[3]),1048584&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s),l===(l=r(t))&&i?i.p(t,n):(i.d(1),i=l(t),i&&(i.c(),i.m(o.parentNode,o)))},i(t){s||(et(e.$$.fragment,t),s=!0)},o(t){nt(e.$$.fragment,t),s=!1},d(t){it(e,t),t&&_(n),i.d(t),t&&_(o)}}}function Rt(t){let e,n;return e=new kt({props:{apod:t[16],i:t[16].i}}),{c(){rt(e.$$.fragment)},m(t,o){lt(e,t,o),n=!0},p(t,n){const o={};8&n&&(o.apod=t[16]),8&n&&(o.i=t[16].i),e.$set(o)},i(t){n||(et(e.$$.fragment,t),n=!0)},o(t){nt(e.$$.fragment,t),n=!1},d(t){it(e,t)}}}function Mt(t){let e,n,o=t[3],s=[];for(let e=0;e<o.length;e+=1)s[e]=Rt(Et(t,o,e));const r=t=>nt(s[t],1,1,(()=>{s[t]=null}));return{c(){for(let t=0;t<s.length;t+=1)s[t].c();e=C()},m(t,o){for(let e=0;e<s.length;e+=1)s[e].m(t,o);b(t,e,o),n=!0},p(t,n){if(8&n){let l;for(o=t[3],l=0;l<o.length;l+=1){const r=Et(t,o,l);s[l]?(s[l].p(r,n),et(s[l],1)):(s[l]=Rt(r),s[l].c(),et(s[l],1),s[l].m(e.parentNode,e))}for(Z(),l=o.length;l<s.length;l+=1)r(l);tt()}},i(t){if(!n){for(let t=0;t<o.length;t+=1)et(s[t]);n=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)nt(s[t]);n=!1},d(t){!function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(s,t),t&&_(e)}}}function Pt(e){let n;return{c(){n=k("h2"),n.innerHTML='Performing deep space scan <i class="fas fa-spinner svelte-1edv9iu"></i>',L(n,"class","loading svelte-1edv9iu")},m(t,e){b(t,n,e)},p:t,d(t){t&&_(n)}}}function Dt(e){let n,o,s;return{c(){n=k("h3"),n.textContent="Load More",L(n,"class","more svelte-1edv9iu")},m(t,r){b(t,n,r),o||(s=E(n,"click",e[6]),o=!0)},p:t,d(t){t&&_(n),o=!1,s()}}}function Ot(e){let n;return{c(){n=k("h2"),n.innerHTML='Performing deep space scan <i class="fas fa-spinner svelte-1edv9iu"></i>',L(n,"class","loading svelte-1edv9iu")},m(t,e){b(t,n,e)},p:t,i:t,o:t,d(t){t&&_(n)}}}function jt(t){let e,n,o,r,l,i,c,a,u,f,p,m,h,g,$,y,C,A,T,R,M,P,j,z,F,I,B,G,W,H=t[0]?"All Images":"Liked Images",U=t[4]&&Lt(t),q={ctx:t,current:null,token:null,hasCatch:!0,pending:Ot,then:Nt,catch:St,error:19,blocks:[,,,]};return function(t,e){const n=e.token={};function o(t,o,s,r){if(e.token!==n)return;e.resolved=r;let l=e.ctx;void 0!==s&&(l=l.slice(),l[s]=r);const i=t&&(e.current=t)(l);let c=!1;e.block&&(e.blocks?e.blocks.forEach(((t,n)=>{n!==o&&t&&(Z(),nt(t,1,1,(()=>{e.blocks[n]===t&&(e.blocks[n]=null)})),tt())})):e.block.d(1),i.c(),et(i,1),i.m(e.mount(),e.anchor),c=!0),e.block=i,e.blocks&&(e.blocks[o]=i),c&&K()}if((s=t)&&"object"==typeof s&&"function"==typeof s.then){const n=O();if(t.then((t=>{D(n),o(e.then,1,e.value,t),D(null)}),(t=>{if(D(n),o(e.catch,2,e.error,t),D(null),!e.hasCatch)throw t})),e.current!==e.pending)return o(e.pending,0),!0}else{if(e.current!==e.then)return o(e.then,1,e.value,t),!0;e.resolved=t}var s}(t[7],q),{c(){e=k("main"),n=k("h1"),n.innerHTML='<img class="logo svelte-1edv9iu" alt="logo" src="./unspace.svg"/>Spacestagram',o=w(),r=k("h2"),r.textContent="Brought to you by NASA's APOD API",l=w(),i=k("div"),c=w(),a=k("div"),u=w(),f=k("div"),p=w(),m=k("div"),h=k("div"),g=k("i"),$=w(),y=k("input"),C=w(),A=k("button"),T=k("i"),M=w(),P=x(H),j=w(),U&&U.c(),z=w(),q.block.c(),F=w(),I=k("link"),L(n,"class","svelte-1edv9iu"),L(r,"class","svelte-1edv9iu"),L(i,"id","small-stars"),L(i,"class","svelte-1edv9iu"),L(a,"id","medium-stars"),L(a,"class","svelte-1edv9iu"),L(f,"id","large-stars"),L(f,"class","svelte-1edv9iu"),L(g,"class","fas fa-search svelte-1edv9iu"),L(y,"placeholder","Search for an image..."),L(y,"class","svelte-1edv9iu"),L(h,"class","search-bar svelte-1edv9iu"),L(T,"class",R=d(`fas fa-${t[0]?"times":"heart"} likes`)+" svelte-1edv9iu"),L(A,"class","svelte-1edv9iu"),L(m,"class","top svelte-1edv9iu"),L(e,"class","svelte-1edv9iu"),L(I,"rel","stylesheet"),L(I,"href","https://use.fontawesome.com/releases/v5.15.3/css/all.css")},m(s,d){b(s,e,d),v(e,n),v(e,o),v(e,r),v(e,l),v(e,i),v(e,c),v(e,a),v(e,u),v(e,f),v(e,p),v(e,m),v(m,h),v(h,g),v(h,$),v(h,y),N(y,t[1]),v(m,C),v(m,A),v(A,T),v(A,M),v(A,P),v(e,j),U&&U.m(e,null),v(e,z),q.block.m(e,q.anchor=null),q.mount=()=>e,q.anchor=null,b(s,F,d),v(document.head,I),B=!0,G||(W=[E(y,"input",t[5]),E(y,"input",t[10]),E(A,"click",t[11])],G=!0)},p(n,[o]){t=n,2&o&&y.value!==t[1]&&N(y,t[1]),(!B||1&o&&R!==(R=d(`fas fa-${t[0]?"times":"heart"} likes`)+" svelte-1edv9iu"))&&L(T,"class",R),(!B||1&o)&&H!==(H=t[0]?"All Images":"Liked Images")&&S(P,H),t[4]?U?U.p(t,o):(U=Lt(t),U.c(),U.m(e,z)):U&&(U.d(1),U=null),function(t,e,n){const o=e.slice(),{resolved:s}=t;t.current===t.then&&(o[t.value]=s),t.current===t.catch&&(o[t.error]=s),t.block.p(o,n)}(q,t,o)},i(t){B||(et(q.block),B=!0)},o(t){for(let t=0;t<3;t+=1){nt(q.blocks[t])}B=!1},d(t){t&&_(e),U&&U.d(),q.block.d(),q.token=null,q=null,t&&_(F),_(I),G=!1,s(W)}}}function zt(t,e){return null==e||""===e?t:t.filter((t=>t.title.toLowerCase().includes(e.toLowerCase())||t.explanation.toLowerCase().includes(e.toLowerCase())||t.date.toLocaleDateString("en-US").toLowerCase().includes(e.toLowerCase())))}function Ft(t){for(let e=0;e<t.length;e++)t[e].i=e;return t}function It(t,e,n){let o,s,r;a(t,pt,(t=>n(9,s=t))),a(t,mt,(t=>n(4,r=t)));const l=t=>{let e={};return t.filter((t=>!e.hasOwnProperty(t.title)&&(e[t.title]=!0))).filter((t=>"image"===t.media_type)).map((t=>(void 0!==t.liked&&null!==t.liked||(t.liked=!1),"string"==typeof t.date&&(t.date=new Date(t.date)),t)))};let i,c,u=!1;const d=function(t,e,n){var o;return function(){var s=this,r=arguments,l=function(){o=null,n||t.apply(s,r)},i=n&&!o;clearTimeout(o),o=setTimeout(l,e),i&&t.apply(s,r)}}((()=>{n(8,i=c)}),200);let f=!1;const p=async function(){let t;if(0==s.length){const e=await fetch(`${ht}?count=100`);t=await e.json()}else t=s;pt.set(Ft(l(t))),n(2,f=!0)}();return t.$$.update=()=>{769&t.$$.dirty&&n(3,o=zt(u?s.filter((t=>t.liked)):s,i))},[u,c,f,o,r,d,async function(){n(2,f=!1);const t=await fetch(`${ht}?count=50`);let e=await t.json();pt.set(Ft(l(s.concat(e)))),n(2,f=!0)},p,i,s,function(){c=this.value,n(1,c)},()=>{n(0,u=!u)},()=>{mt.set()}]}return new class extends at{constructor(t){super(),ct(this,t,It,jt,l,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
